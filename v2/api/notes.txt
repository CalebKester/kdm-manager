
#
#   Are you n API developer or sysadmin? If not, it's probably a good idea to
#   turn back: nothing but trouble here, friend.
#


### API Stack
 - systemd (service and socket)
 - gunicorn (using a dummy wsgi entry point)
 - flask (for routes)


### Dependencies

apt install python-pip gunicorn ubuntu-standard systemd-sysv 
pip install Flask requests Flask-JWT


### first-time install

# ln -s /home/toconnell/kdm-manager/v2/api/nginx/production /etc/nginx/sites-enabled/api.thewatcher.io
# /etc/init.d/nginx restart
# ./server.sh enable
# ./server.sh start


### deploy an update:
$ cd kdm-manager/v2/api
$ git pull
$ world.py -d restart
# ./server.sh restart


### request reponse troubleshooting:
 - api.py receives requests and activates a route method
 - the route method will do one of the following:
    - initialize a Models.AssetCollection() object and return a response
    - use call the request_broker.py method to initialize a specific user asset 

NB: successfully initialized user assets should only ever respond via their
private request_response() method.



